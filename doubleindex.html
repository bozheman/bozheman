<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THE OMEGA</title>
  <style>
    :root {
      --main-color: crimson;
      --glow-size: 10px;
      --bg-dark: #000;
      --text-light: #ffaaaa;
    }

    /* === Layout & Base === */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--bg-dark);
      color: var(--main-color);
      font-family: monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      overflow: hidden;
      animation: bodyFlicker 3s linear infinite;
    }

    h1 {
      font-size: 2.4rem;
      letter-spacing: 0.05em;
      position: relative;
      text-shadow: 0 0 var(--glow-size) var(--main-color);
      animation: glitch 2.5s infinite;
    }

    /* glitch layers */
    h1::before,
    h1::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      overflow: hidden;
      text-shadow: none;
      mix-blend-mode: screen;
    }

    h1::before {
      animation: glitchTop 2.5s infinite;
      color: #ff0040;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    }

    h1::after {
      animation: glitchBottom 2.5s infinite;
      color: #04d9ff;
      clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
    }

    p {
      max-width: 600px;
      padding: 20px;
      font-size: 1.2em;
      color: var(--text-light);
    }

    /* === Roulette section === */
    #roulette {
      margin-top: 30px;
    }

    #spin-button {
      padding: 10px 28px;
      background: #600000;
      border: 2px solid var(--main-color);
      color: white;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.3s;
    }

    #spin-button:hover {
      background: var(--main-color);
    }

    #roulette-result {
      margin-top: 18px;
      font-size: 1.1em;
      color: #ff5555;
      min-height: 32px;
      transition: transform 0.2s;
    }

    .flash {
      transform: scale(1.15);
    }

    /* === Drips === */
    @keyframes realisticDrip {
      0% {
        transform: translateY(-10vh) scaleX(1) scaleY(1);
        opacity: 0.8;
      }
      80% {
        transform: translateY(90vh) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
        opacity: 0.9;
      }
      100% {
        transform: translateY(105vh) scaleX(0.5) scaleY(0.3);
        opacity: 0;
      }
    }

    .realistic-drop {
      position: fixed;
      top: -12vh;
      width: var(--drop-size, 12px);
      height: calc(var(--drop-size, 12px) * 1.6);
      background: radial-gradient(circle at 40% 30%, #911818, #5a0000);
      border-radius: 60% 60% 90% 90% / 70% 70% 100% 100%;
      box-shadow: 0 0 6px rgba(255, 0, 0, 0.3);
      opacity: 0.6;
      animation: realisticDrip linear forwards;
      pointer-events: none;
      z-index: 0;
    }

    /* === Keyframes for atmosphere === */
    @keyframes glitch {
      0%, 60%, 100% {
        filter: none;
      }
      15% {
        filter: hue-rotate(-15deg) contrast(150%);
      }
      30% {
        filter: hue-rotate(15deg) contrast(150%);
      }
      45% {
        filter: hue-rotate(-10deg) contrast(180%);
      }
    }

    @keyframes glitchTop {
      0% {
        transform: translate(0);
      }
      20% {
        transform: translate(-3px, -2px);
      }
      40% {
        transform: translate(-3px, 2px);
      }
      60% {
        transform: translate(2px, -2px);
      }
      80% {
        transform: translate(2px, 2px);
      }
      100% {
        transform: translate(0);
      }
    }

    @keyframes glitchBottom {
      0% {
        transform: translate(0);
      }
      20% {
        transform: translate(3px, 2px);
      }
      40% {
        transform: translate(3px, -2px);
      }
      60% {
        transform: translate(-2px, 2px);
      }
      80% {
        transform: translate(-2px, -2px);
      }
      100% {
        transform: translate(0);
      }
    }

    @keyframes bodyFlicker {
      0%, 18%, 22%, 25%, 54%, 100% {
        opacity: 1;
      }
      20%, 24%, 56% {
        opacity: 0.75;
      }
    }
  </style>
</head>
<body>
  <h1 data-text="BOZHEMAN ‚â° –ò–ª–ª—é–∑–∏—è">BOZHEMAN ‚â° –ò–ª–ª—é–∑–∏—è</h1>
  <p>
    –¢—ã –¥–æ–±—Ä–∞–ª—Å—è —Å—é–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –±–æ–∏—à—å—Å—è —Ç–µ–Ω–∏.<br />
    –≠—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ. <code>/omega/</code>...
  </p>

  <!-- === ROULETTE === -->
  <div id="roulette">
    <button id="spin-button">üé∞ –í—Ä–∞—â–∞—Ç—å</button>
    <div id="roulette-result"></div>
  </div>

  <!-- === AUDIO === -->
  <audio id="myAudio" preload="auto" loop>
    <source src="omega.m4a" type="audio/mp4" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ—ç–ª–µ–º–µ–Ω—Ç.
  </audio>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* === Audio: —Å—Ç–∞—Ä—Ç —Å 10 —Å–µ–∫. === */
      const audio = document.getElementById("myAudio");
      function playFromTen() {
        if (audio.readyState >= 2) {
          audio.currentTime = 10;
          audio.play().catch(() => {});
        } else {
          audio.addEventListener("canplay", playFromTen, { once: true });
        }
      }
      playFromTen();

      /* === –ö–∞–ø–ª–∏ –∫—Ä–æ–≤–∏ === */
      function spawnDrop() {
        const drop = document.createElement("div");
        const size = 10 + Math.random() * 18;
        drop.className = "realistic-drop";
        drop.style.left = Math.random() * 100 + "vw";
        drop.style.setProperty("--drop-size", size + "px");
        drop.style.setProperty("--scale-x", 0.6 + Math.random() * 0.8);
        drop.style.setProperty("--scale-y", 0.6 + Math.random() * 1);
        drop.style.animationDuration = 3 + Math.random() * 4 + "s";
        document.body.appendChild(drop);
        setTimeout(() => drop.remove(), 8000);
      }
      setInterval(spawnDrop, 550);

      /* === –†–æ—É–ª–µ—Ç–∫–∞ === */
      const outcomes = [
        "–¢—ã —É–∂–µ –ø—Ä–æ–∏–≥—Ä–∞–ª.",
        "–¢—ã —Å–ª–µ–ø.",
        "–£–∑—Ä–∏.",
        "–°–∫–æ—Ä–æ –≤—Å—ë –∏–∑–º–µ–Ω–∏—Ç—Å—è.",
        "–¢—ã –Ω–∞—à—ë–ª –≥–ª–∏—Ñ: /sigil",
        "–ù–∞–±–ª—é–¥–∞–π...",
        "–ó–¥–µ—Å—å –ø—É—Å—Ç–æ, –∫–∞–∫ –≤ —Ç–µ–±–µ.",
      ];

      const resultEl = document.getElementById("roulette-result");
      document.getElementById("spin-button").addEventListener("click", () => {
        const result = outcomes[Math.floor(Math.random() * outcomes.length)];
        resultEl.textContent = result;
        resultEl.classList.add("flash");
        setTimeout(() => resultEl.classList.remove("flash"), 400);
      });

      /* === –¢–∞–π–º–µ—Ä –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ (70 c–µ–∫) + –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç—Å—á—ë—Ç === */
      let countdown = 60;
      const timer = setInterval(() => {
        countdown--;
        if (countdown <= 0) {
          clearInterval(timer);
          window.location.href = "roulet.html";
        } else {
          resultEl.textContent = `–ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ ${countdown}s`;
        }
      }, 1000);
    });
  </script>
</body>
</html>
