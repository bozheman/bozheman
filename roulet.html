<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BOZHEMAN ROULETTE</title>
  <link rel="stylesheet" href="roulette.css">
</head>
<body>
  <div class="top-bar">
    <h1>ROULETTE OF BOZHEMAN</h1>
    <div class="balance">–ë–∞–ª–∞–Ω—Å: <span id="balance">0</span> BMAN</div>
  </div>

  <div class="roulette-container">
    <div class="wheel-wrapper">
      <div class="pointer"></div>
      <div class="wheel" id="wheel">
        <!-- Numbers dynamically injected here -->
      </div>
    </div>
    <div class="number-display" id="result-display"></div>
    <div class="message" id="message"></div>
    <button id="buy-access" onclick="window.location.href='https://t.me/bozheman';">üíé –ö–£–ü–ò–¢–¨ –ü–†–û–•–û–î</button>
  </div>

  <div class="bottom-bar">
    <div class="input-group">
      <input type="number" id="bet" placeholder="–°—Ç–∞–≤–∫–∞" min="1" />
      <input type="text" id="choice" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞–≤–∫—É: b / r / g / 0-36 / x / xx" />
      <button onclick="spin()">üé∞ –ö—Ä—É—Ç–∏—Ç—å</button>
    </div>
  </div>
  <div class="hint">
    –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å—Ç–∞–≤–æ–∫: b ‚Äî —á—ë—Ä–Ω–æ–µ, r ‚Äî –∫—Ä–∞—Å–Ω–æ–µ, g ‚Äî –∑–µ–ª—ë–Ω–æ–µ, 0-36 ‚Äî —á–∏—Å–ª–æ, x ‚Äî –Ω–µ—á—ë—Ç–Ω–æ–µ, xx ‚Äî —á—ë—Ç–Ω–æ–µ
  </div>

  <!-- –£–ª—É—á—à–µ–Ω–∏—è -->
  <div class="extras">
    <div id="history-log"></div>
    <div id="jackpot-status"></div>
    <div id="mini-games"></div>
  </div>

  <script>
    let balance = 10;
    let isSpinning = false;
    let currentRotation = 0;
    let spinCount = 0;
    const history = [];

    updateBalance();

    function updateBalance() {
      document.getElementById('balance').textContent = balance;
      localStorage.setItem('bman_balance', balance);
      if (balance >= 1000) {
        document.getElementById('buy-access').style.display = 'inline-block';
      }
    }

    const numbers = Array.from({ length: 37 }, (_, i) => i);
    const colors = ['green', ...numbers.slice(1).map(n => n % 2 === 0 ? 'black' : 'red')];

    const wheel = document.getElementById('wheel');
    numbers.forEach((num, i) => {
      const div = document.createElement('div');
      div.className = 'wheel-number';
      div.textContent = num;
      div.style.transform = `rotate(${i * (360 / 37)}deg) translateY(-140px)`;
      div.style.color = colors[i];
      wheel.appendChild(div);
    });

    function logHistory(num, color, win, bet) {
      const log = `#${spinCount}: ${num} (${color}) ‚Äî ${win > 0 ? '+ ' + win : '- ' + bet} BMAN`;
      history.unshift(log);
      if (history.length > 10) history.pop();
      document.getElementById('history-log').innerHTML = history.map(h => `<div>${h}</div>`).join('');
    }

    function spin() {
      if (isSpinning) return;
      isSpinning = true;
      spinCount++;

      const bet = parseInt(document.getElementById('bet').value);
      const choice = document.getElementById('choice').value.trim().toLowerCase();
      if (isNaN(bet) || bet <= 0 || bet > balance) {
        alert('–ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–∞–≤–∫–∞');
        isSpinning = false;
        return;
      }

      balance -= bet;
      updateBalance();

      const resultNum = Math.floor(Math.random() * 37);
      const sectorAngle = 360 / 37;
      const additionalRotations = 10 * 360;
      const stopAngle = (360 - resultNum * sectorAngle + sectorAngle / 2);
      currentRotation += additionalRotations + stopAngle;

      wheel.style.transition = 'transform 7s ease-in-out';
      wheel.style.transform = `rotate(${currentRotation}deg)`;

      setTimeout(() => {
        const color = resultNum === 0 ? 'green' : resultNum % 2 === 0 ? 'black' : 'red';
        document.getElementById('result-display').textContent = `–í—ã–ø–∞–ª–æ: ${resultNum} (${color})`;

        let win = 0;
        if ((choice === 'b' && color === 'black') ||
            (choice === 'r' && color === 'red') ||
            (choice === 'g' && resultNum === 0) ||
            (choice === 'x' && resultNum % 2 === 1) ||
            (choice === 'xx' && resultNum !== 0 && resultNum % 2 === 0) ||
            (!isNaN(parseInt(choice)) && parseInt(choice) === resultNum)) {

          win = ['g'].includes(choice) ? bet * 14 :
                ['b', 'r', 'x', 'xx'].includes(choice) ? bet * 2 :
                bet * 36;
        }

        if (win > 0) {
          balance += win;
          document.getElementById('message').textContent = `–¢—ã –≤—ã–∏–≥—Ä–∞–ª ${win} BMAN!`;
        } else {
          document.getElementById('message').textContent = `–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞.`;
        }

        logHistory(resultNum, color, win, bet);
        updateBalance();
        isSpinning = false;
      }, 7000);
    }
  </script>
  <div id="reward-modal" style="display:none;position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);background:#333;color:#fff;padding:15px;border-radius:8px;z-index:999;">
  –ü–æ–ª—É—á–µ–Ω–æ 10 –º–æ–Ω–µ—Ç!
  <br><button onclick="document.getElementById('reward-modal').style.display='none'">OK</button>
</div>

<div id="phrase-modal" style="display:none;position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);background:#222;color:#fff;padding:15px;border-radius:8px;z-index:1000;">
  <span id="phrase-content"></span>
  <br><button onclick="document.getElementById('phrase-modal').style.display='none'">OK</button>
</div>

<script>
const today = new Date().toISOString().slice(0,10);
let lastClaim = localStorage.getItem('lastClaim')||'';
let balance = parseInt(localStorage.getItem('balance'))||0;

if(today!==lastClaim){
  balance+=10;
  localStorage.setItem('lastClaim',today);
  localStorage.setItem('balance',balance);
  document.getElementById('reward-modal').style.display='block';
}

const phrases=[
  "–¢–≤–æ—è —Å—É–¥—å–±–∞ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–∞. <a href='https://t.me/protocol_0zero'>[Telegram]</a>",
  "–ì–ª–∞–∑–∞ –æ—Ç–∫—Ä—ã—Ç—ã, –Ω–æ —Ä–∞–∑—É–º —Å–ª–µ–ø. <a href='https://t.me/protocol_0zero'>[Telegram]</a>",
  "–¢—ã –Ω–∞—à—ë–ª –∫–ª—é—á, –Ω–æ –¥–≤–µ—Ä—å –Ω–µ —Ç–≤–æ—è. <a href='https://t.me/protocol_0zero'>[Telegram]</a>",
  // –î–æ–±–∞–≤—å –µ—â–µ –¥–æ 50 —Ñ—Ä–∞–∑
];

if(balance>=1000&&!localStorage.getItem('phraseShown')){
  const phrase=phrases[Math.floor(Math.random()*phrases.length)];
  document.getElementById('phrase-content').innerHTML=phrase;
  document.getElementById('phrase-modal').style.display='block';
  localStorage.setItem('phraseShown',true);
}

// –¶–∏–∫–ª–∏—á–Ω—ã–µ –∫–∞–ø–ª–∏
setInterval(()=>{
  const drop=document.createElement('div');
  const size=10+Math.random()*20;
  drop.className='realistic-drop';
  drop.style.left=Math.random()*100+'vw';
  drop.style.setProperty('--drop-size',`${size}px`);
  drop.style.animationDuration=(3+Math.random()*4)+'s';
  document.body.appendChild(drop);
  setTimeout(()=>drop.remove(),7000);
},500);
</script>

</body>
</html>
